# Lightweight Avatar Chat - Environment Configuration Example
# Copy this file to .env and modify as needed

# ========================================
# Server Settings
# ========================================
HOST=0.0.0.0
PORT=8000

# ========================================
# ASR (Automatic Speech Recognition)
# ========================================
ASR_PROVIDER=faster-whisper  # Options: faster-whisper, dashscope
ASR_MODEL=base               # Options: tiny, base, small, medium, large
ASR_LANGUAGE=zh              # Language code

# DashScope (Aliyun) - Only if ASR_PROVIDER=dashscope
DASHSCOPE_API_KEY=your_api_key_here

# ========================================
# LLM (Large Language Model)
# ========================================
LLM_PROVIDER=openai          # Options: openai, dashscope
LLM_MODEL=gpt-4o-mini        # Model name
LLM_API_KEY=your_api_key_here
LLM_BASE_URL=https://api.openai.com/v1
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2000

# ========================================
# TTS (Text-to-Speech)
# ========================================
TTS_PROVIDER=edge-tts        # Options: edge-tts, dashscope
TTS_VOICE=zh-CN-XiaoxiaoNeural
TTS_RATE=-10%                # Speech rate (-50% to +50%, 建议-10%以获得更清晰口型)
TTS_PITCH=+0Hz               # Speech pitch

# ========================================
# Avatar Settings
# ========================================
AVATAR_FPS=25
AVATAR_RESOLUTION=512,512
AVATAR_TEMPLATE=default.mp4  # 模板文件名（支持.mp4/.png）
AVATAR_USE_ONNX=false        # 使用ONNX（false=使用PyTorch，支持GAN模型）
AVATAR_STATIC_MODE=false
AVATAR_ENHANCE_MODE=true     # 启用嘴部融合增强（推荐开启）

# ========================================
# Face Detection Padding (人脸检测区域扩展)
# ========================================
# 这些参数控制人脸检测框的扩展范围，确保嘴部完整
# 调整这些值可以改善嘴型清晰度和开口效果

AVATAR_FACE_PADDING_HORIZONTAL=0.15  # 左右padding比例 (0.10-0.20)
AVATAR_FACE_PADDING_TOP=0.10         # 顶部padding比例 (0.05-0.15)
AVATAR_FACE_PADDING_BOTTOM=0.35      # 底部padding比例 (0.25-0.45)
                                      # 如果嘴型不清晰，增大到0.40或0.45

# ========================================
# Buffer Settings
# ========================================
AUDIO_BUFFER_SIZE=50
VIDEO_BUFFER_SIZE=75

# ========================================
# Performance
# ========================================
CPU_THREADS=4                # CPU线程数

# ========================================
# Logging
# ========================================
LOG_LEVEL=INFO               # Options: DEBUG, INFO, WARNING, ERROR

# ========================================
# 使用说明
# ========================================
# 1. 复制此文件为 .env
# 2. 根据需要修改配置值
# 3. 重启服务使配置生效：sudo systemctl restart lightavatar
#
# 详细配置说明请参考：
# - docs/AVATAR_CONFIG.md - Avatar配置详解
# - docs/LIP_SYNC_QUALITY.md - 唇形质量优化指南
